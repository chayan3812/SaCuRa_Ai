You just defined an **AI Marketing Intelligence Engine** that rivals pro-grade tools like Sprout Social, Brandwatch, or AdEspresso. Hereâ€™s how weâ€™ll break this down â€” 4 feature modules, **each with its own Replit-safe master prompt** using the âš™ï¸ Full Pre-Check framework:

---

## ðŸ“Š PHASE I: Save & Track Competitor Over Time

**Feature Summary:**

* Let users "watch" Facebook Pages (save them to DB)
* Schedule weekly snapshots of top 3â€“5 posts
* Analyze and visualize engagement trends over time

### ðŸ§  MASTER PROMPT

```ts
// === âš™ï¸ PRE-CHECK LOGIC (DO NOT SKIP) ===

// âœ… 1. CHECK if `watchedCompetitors` table exists in `shared/schema.ts`
//   â†’ If not, create it: { id, userId, pageId, addedAt }
// âœ… 2. CHECK if weekly snapshot logic exists in `PageWatcher.ts` â€” enhance it, donâ€™t duplicate
// âœ… 3. Add function to `facebook.ts`: `getTopPosts(pageId)`
// âœ… 4. Add DB table: `competitorSnapshots` with { id, pageId, snapshotDate, postData (JSON), totalEngagement }
// âœ… 5. Add cron: every Monday 3AM â†’ fetch & save top posts for each watched page
// âœ… 6. In frontend: Let users click â€œWatch This Pageâ€ in `CompetitorAnalysis.tsx`
// âœ… 7. Add `/api/competitor/watch`, `/unwatch`, `/list`, `/snapshots/:pageId`
// âœ… 8. Add UI for engagement graph: last 30 days (line chart using Recharts or Victory)
// âœ… 9. All additions must follow existing structure, no mock data

```

---

## âš–ï¸ PHASE II: Multi-Page Benchmarking

**Feature Summary:**

* Compare multiple Facebook Pages side by side
* AI generates comparative narrative: "Page A vs B vs C"

### ðŸ§  MASTER PROMPT

```ts
// âœ… Add UI: Input up to 3 Page IDs
// âœ… Backend route: `/api/competitor/compare` â†’ fetch posts from each
// âœ… Reuse `analyzeCompetitorPosts()` with extended prompt:
//   "Compare and contrast post frequency, engagement, tone, and topics"
// âœ… Display chart view: bar chart per page (avg likes/comments per post)
// âœ… Output: Table of top posts + AI-generated paragraph
// âœ… Label output with: "ðŸ‘ï¸ Enhanced by AI on 2025-06-15 â€” Multi-Page Benchmarking"
```

---

## ðŸ·ï¸ PHASE III: Keyword/Hashtag Extraction

**Feature Summary:**

* Auto-extract most-used keywords + hashtags
* Display as tag cloud or ranked list

### ðŸ§  MASTER PROMPT

```ts
// âœ… In `openai.ts`, add `extractKeywordsFromPosts(posts[])`
// âœ… Prompt: "From the following posts, extract a ranked list of common words, phrases, and hashtags."
// âœ… Add UI: tag cloud or list view with counts (frontend tag cloud lib or tailwind-based grid)
// âœ… Filter for noise (ignore "the", "is", etc.)
// âœ… Output: Top 10â€“15 unique tags ranked by usage
```

---

## ðŸ§  PHASE IV: Meta Ad Library Integration

**Feature Summary:**

* Fetch live ad data from Meta Ad Library for public pages
* Analyze tone, CTA, frequency
* Can feed into your AdOptimizer

### ðŸ§  MASTER PROMPT

```ts
// âœ… Add route: `/api/competitor/ads/:pageId`
// âœ… Call Meta Ad Library endpoint: 
//    `https://graph.facebook.com/v18.0/ads_archive?search_terms=&ad_reached_countries=[...]&page_ids=[pageId]`
// âœ… Store response in DB table: `competitorAds` with { pageId, adText, adId, impressions, lastSeen }
// âœ… Pass ads to `analyzeAdPerformance()` in `openai.ts`
// âœ… Output insights like:
//   â€œTop-performing ad uses emotional testimonial + offer, active since May 1â€
// âœ… Display ad cards + summary + optional download CSV
```

---

### ðŸ’¡ Deployment Plan (Recommended Order)

1. **Start with Save & Track Competitor**
2. Then: Multi-Page Benchmarking
3. Then: Keyword/Hashtag Extraction
4. Finally: Meta Ad Library Integration (highest API friction)

---

Say:

> `âž¤ Let's implement SaveAndTrackCompetitor (with full pre-check)`
> to begin PHASE I.

Once done, Iâ€™ll verify and roll the next prompt in the stack. Ready to go when you are.
