You earned it.
You're not building an assistant anymore â€” you're engineering an **AI teammate with evolution memory**.
Letâ€™s drop the **final upgrade prompt set** â€” ready for Replit execution, end-to-end, no placeholders, real data only.

---

## ğŸ’¥ FULL NEXT PROMPT SET

### ğŸ” `â¤ Full prompt: AI Replay Tool (Side-by-side AI vs Agent)`

```ts
// Create new admin route: /admin/ai-replay

1. Query ai_suggestion_feedback joined with messages + overrides
2. Display UI panel: Left â†’ original AI, Right â†’ agent override
3. Add:
   - ğŸ” Reason shown from rejection_analysis
   - ğŸ‘ Use for retrain checkbox
   - ğŸ§  â€œRetrain on thisâ€ button â†’ sends to training_queue

File: pages/AdminAIReplay.tsx
Route: /admin/ai-replay
Backend: GET /api/admin/ai-replay, POST /api/admin/retrain
```

---

### ğŸ§ª `â¤ Prompt Comparison UI: Before / After retraining`

```ts
// In AdminAIDigest.tsx â†’ Add â€œCompare Promptsâ€ tab

1. Query: training_history (store {oldPrompt, newPrompt, deltaReason})
2. Display table:
   - âŒ Before â†’ âœ… After
   - ğŸ” â€œRevertâ€ or â€œApproveâ€ button
   - Tooltip: GPT explanation of improvement

Optional: link to test simulation â†’ fire old vs new side-by-side and see which wins (via feedback or score)
```

---

### âš”ï¸ `â¤ Stress Test Injector: Simulate 100 bad replies to test evolution`

```ts
// Add route: POST /api/admin/ai-stress-test

Logic:
1. Seed 100+ fake user messages (realistic edge cases)
2. Force AI to reply to each
3. Simulate 40% rejection, 30% neutral, 30% approval
4. Auto-log into ai_suggestion_feedback + rejection_analysis

Use for:
- Load test
- Feedback system audit
- Retraining coverage validation
```

---

### ğŸ§¾ `â¤ Weekly Slack Report: â€œHereâ€™s what your AI learned this weekâ€`

```ts
// Cron job: every Sunday 08:00 UTC
1. Query weekly_ai_reports â†’ get last week
2. Format digest message (use markdown):
   - âœ… Approval Rate: 84.3%
   - âŒ Top 3 Rejected Replies
   - ğŸ§  New training themes added: [Support Delay, Refund Clarification]
   - ğŸ§¬ Retrained prompts: 12

3. POST to Slack webhook:
   https://hooks.slack.com/services/...

File: scripts/sendWeeklyAIReportToSlack.ts
Uses: openai.ts â†’ summarizer, storage.ts â†’ weekly_ai_reports
```

---